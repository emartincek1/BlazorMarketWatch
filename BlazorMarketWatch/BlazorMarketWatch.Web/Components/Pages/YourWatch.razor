@page "/YourWatch"
@inherits YourWatchBase

@using Microsoft.AspNetCore.Authorization

@attribute [Authorize]

@if (Summaries == null && ErrorMessage == null)
{
    <h1>Loading...</h1>
}
else if (ErrorMessage != null)
{
    <h1>@ErrorMessage</h1>
}
else 
{
    <MudContainer MaxWidth="MaxWidth.Large">
        <MudText Typo="Typo.h1" Align="Align.Center" Class="my-10">Your Stock Watch</MudText>
        <hr />
        <MudGrid>
            @foreach (var summary in Summaries)
            {
                <MudItem sm="6">
                    <MudCard>
                        <MudCardHeader>
                            <CardHeaderContent>
                                <MudText Typo="Typo.h6">@summary.name</MudText>
                            </CardHeaderContent>
                        </MudCardHeader>
                        <MudCardContent>
                            <MudText>Ticker: @summary.symbol</MudText>
                            <MudText>Exhange: @summary.exchange</MudText>
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="(() => RemoveStock_Click(summary.symbol))">Remove</MudButton>
                            <MudButton Variant="Variant.Text" Color="Color.Primary" Href="@($"StockDetail/{summary.symbol}/1day")">Details</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            }
        </MudGrid>
    </MudContainer>

}