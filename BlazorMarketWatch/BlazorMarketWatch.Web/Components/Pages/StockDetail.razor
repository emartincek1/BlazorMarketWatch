@page "/StockDetail/{Symbol}"
@inherits StockDetailBase

@if (Stock == null && ErrorMessage == null)
{
    <h1>Loading...</h1>
}
else if (ErrorMessage != null)
{
    <h1>@ErrorMessage</h1>
}
else 
{
    <MudContainer Class="mt-15">
        <MudGrid>
            <MudItem sm="6">
                <MudCard>
                    <MudCardHeader>
                        <MudText Typo="Typo.h3">@Stock.meta.symbol</MudText>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText Typo="Typo.body1">Currency: @Stock.meta.currency</MudText>
                        <MudText Typo="Typo.body1">Exchange Timezone: @Stock.meta.exchange_timezone</MudText>
                        <MudText Typo="Typo.body1">Exchange: @Stock.meta.exchange</MudText>
                        <MudText Typo="Typo.body1">Mic code: @Stock.meta.mic_code</MudText>
                        <MudText Typo="Typo.body1">Type: @Stock.meta.type</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
            <MudItem sm="6">
                <MudCard>
                    <MudCardHeader>
                        <MudText Typo="Typo.h4">1 Day Values:</MudText>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText Typo="Typo.body1">Datetime: @Stock.values[1].datetime</MudText>
                        <MudText Typo="Typo.body1">Open: $@Stock.values[1].open</MudText>
                        <MudText Typo="Typo.body1">High: $@Stock.values[1].high</MudText>
                        <MudText Typo="Typo.body1">Low: $@Stock.values[1].low</MudText>
                        <MudText Typo="Typo.body1">Close: $@Stock.values[1].close</MudText>
                        <MudText Typo="Typo.body1">Volume: @Stock.values[1].volume</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>

        <MudText Typo="Typo.h3" Align="Align.Center" Class="my-10">Daily Chart: </MudText>

        <MudGrid Justify="Justify.Center">
            <MudItem>
                <MudChart ChartType="ChartType.Line" ChartSeries="@Series" @bind-SelectedIndex="Index" XAxisLabels="@XAxisLabels" Width="100%" Height="350px" ChartOptions="@Options" />
            </MudItem>
        </MudGrid>
    </MudContainer>
}